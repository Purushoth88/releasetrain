<?xml version="1.0" encoding="utf-8" standalone="no"?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns="http://www.w3.org/1999/xhtml" template="/root.xhtml">

    <ui:define name="page">

        <p:fieldset id="fs" legend="Run Your Configured Actions">

            <h:panelGrid columns="2" id="configPanel">

                <h:form id="form">

                    <p:accordionPanel multiple="false">

                        <p:tab title="Run as a local Scheduler in this Instance ...">
                            <p:commandButton value="#{directorRunnerGui.button}" action="#{directorRunnerGui.go()}" ajax="true" update="form"/>
                        </p:tab>

                        <p:tab title="... Or create a Jenkins Job to do the Job">

                            <h:panelGrid columns="2" id="configPanel">

                                <h:outputLabel value="Jenkins Template Job"/>
                                <p:inputText value="#{directorRunnerGui.templateJob}" size="40"/>

                                <h:outputText value="Template available?"/>
                                <p:selectBooleanButton id="readConfig" value="#{directorRunnerGui.isTemplateAvailable()}" onLabel="Yes" offLabel="No" disabled="true"/>

                                <h:outputLabel for="text" value="Text:"/>
                                <p:inputTextarea id="text" value="#{directorRunnerGui.templateText}" rows="10" cols="100"/>

                                <h:outputLabel value="New Jenkins Job"/>
                                <p:inputText value="#{directorRunnerGui.newJob}" size="40"/>

                                <h:outputText value="Job available?"/>
                                <p:selectBooleanButton value="#{directorRunnerGui.isJobAvailable()}" onLabel="Yes" offLabel="No" disabled="true"/>

                                <p:commandButton value="Load Template" action="#{directorRunnerGui.loadTemplate()}" ajax="true" update="form"/>
                                <p:spacer width="10" height="20"/>

                                <p:commandButton value="Publish Job" action="#{directorRunnerGui.createJobOnJenkins()}" ajax="true" update="form"/>
                                <p:spacer width="10" height="20"/>

                            </h:panelGrid>

                        </p:tab>

                    </p:accordionPanel>

                </h:form>

            </h:panelGrid>

        </p:fieldset>

    </ui:define>

</ui:composition>
